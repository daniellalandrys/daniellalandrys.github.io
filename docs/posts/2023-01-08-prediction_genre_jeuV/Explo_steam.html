<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniella Landrys">
<meta name="dcterms.date" content="2023-01-08">
<meta name="description" content="Dans ce blog, je vais analyser des données issues de Tidy Tuesday">

<title>Explorations des données Kaggle sur Steam – Daniella Landrys</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Daniella Landrys</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> <i class="bi bi-house" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> <i class="bi bi-newspaper" role="img">
</i> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> <i class="bi bi-pen" role="img">
</i> 
<span class="menu-text">Publications et communications</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#chargement-des-données" id="toc-chargement-des-données" class="nav-link active" data-scroll-target="#chargement-des-données">1. Chargement des données</a></li>
  <li><a href="#création-de-données-supplémentaires" id="toc-création-de-données-supplémentaires" class="nav-link" data-scroll-target="#création-de-données-supplémentaires">2. Création de données supplémentaires</a>
  <ul class="collapse">
  <li><a href="#position-et-dispersion-des-avis" id="toc-position-et-dispersion-des-avis" class="nav-link" data-scroll-target="#position-et-dispersion-des-avis">Position et dispersion des avis</a></li>
  <li><a href="#position-et-dispertion-temps-de-jeu" id="toc-position-et-dispertion-temps-de-jeu" class="nav-link" data-scroll-target="#position-et-dispertion-temps-de-jeu">Position et dispertion temps de jeu</a></li>
  <li><a href="#position-et-dispertion-prix-des-jeux" id="toc-position-et-dispertion-prix-des-jeux" class="nav-link" data-scroll-target="#position-et-dispertion-prix-des-jeux">Position et dispertion prix des jeux</a></li>
  <li><a href="#exploration-des-plateformes" id="toc-exploration-des-plateformes" class="nav-link" data-scroll-target="#exploration-des-plateformes">Exploration des plateformes</a></li>
  <li><a href="#exploration-des-catégories" id="toc-exploration-des-catégories" class="nav-link" data-scroll-target="#exploration-des-catégories">Exploration des catégories :</a></li>
  <li><a href="#exploration-des-genres" id="toc-exploration-des-genres" class="nav-link" data-scroll-target="#exploration-des-genres">Exploration des genres</a></li>
  <li><a href="#exploration-des-steamspy_tags" id="toc-exploration-des-steamspy_tags" class="nav-link" data-scroll-target="#exploration-des-steamspy_tags">Exploration des steamspy_tags</a></li>
  <li><a href="#exploration-des-développeurs" id="toc-exploration-des-développeurs" class="nav-link" data-scroll-target="#exploration-des-développeurs">Exploration des développeurs</a></li>
  <li><a href="#exploration-des-éditeurs-publisher" id="toc-exploration-des-éditeurs-publisher" class="nav-link" data-scroll-target="#exploration-des-éditeurs-publisher">Exploration des éditeurs (publisher)</a></li>
  </ul></li>
  <li><a href="#joindre-les-documents" id="toc-joindre-les-documents" class="nav-link" data-scroll-target="#joindre-les-documents">Joindre les documents</a></li>
  <li><a href="#exploration-des-données" id="toc-exploration-des-données" class="nav-link" data-scroll-target="#exploration-des-données">Exploration des données</a></li>
  <li><a href="#diviser-les-textes-dans-genres" id="toc-diviser-les-textes-dans-genres" class="nav-link" data-scroll-target="#diviser-les-textes-dans-genres">Diviser les textes dans genres</a></li>
  <li><a href="#graphique" id="toc-graphique" class="nav-link" data-scroll-target="#graphique">Graphique</a></li>
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression">Regression</a></li>
  <li><a href="#explore-data" id="toc-explore-data" class="nav-link" data-scroll-target="#explore-data">Explore data</a></li>
  <li><a href="#mise-en-place-du-xgboost-model" id="toc-mise-en-place-du-xgboost-model" class="nav-link" data-scroll-target="#mise-en-place-du-xgboost-model">Mise en place du xgboost model</a></li>
  <li><a href="#création-du-xgboost" id="toc-création-du-xgboost" class="nav-link" data-scroll-target="#création-du-xgboost">Création du xgboost</a></li>
  <li><a href="#visualisation-du-model-pour-linterpréter" id="toc-visualisation-du-model-pour-linterpréter" class="nav-link" data-scroll-target="#visualisation-du-model-pour-linterpréter">Visualisation du model pour l’interpréter</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Explorations des données Kaggle sur Steam</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Français</div>
    <div class="quarto-category">Jeux vidéos</div>
    <div class="quarto-category">Genre de jeu</div>
    <div class="quarto-category">Analyse de données</div>
  </div>
  </div>

<div>
  <div class="description">
    Dans ce blog, je vais analyser des données issues de Tidy Tuesday
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniella Landrys </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 8, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Dans ce premier document, nous allons explorer la base de données sur les ventes et les appréciations du jeu steam</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ purrr     1.0.2
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'summarytools'

The following object is masked from 'package:tibble':

    view</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pander)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(wordcloud)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: RColorBrewer</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: NLP

Attaching package: 'NLP'

The following object is masked from 'package:ggplot2':

    annotate</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="chargement-des-données" class="level2">
<h2 class="anchored" data-anchor-id="chargement-des-données">1. Chargement des données</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"steam.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 27075 Columns: 18
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (8): name, developer, publisher, platforms, categories, genres, steamsp...
dbl  (9): appid, english, required_age, achievements, positive_ratings, nega...
date (1): release_date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>steam_desc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"steam_description_data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     appid             name            release_date           english      
 Min.   :     10   Length:27075       Min.   :1997-06-30   Min.   :0.0000  
 1st Qu.: 401230   Class :character   1st Qu.:2016-04-04   1st Qu.:1.0000  
 Median : 599070   Mode  :character   Median :2017-08-08   Median :1.0000  
 Mean   : 596204                      Mean   :2016-12-31   Mean   :0.9811  
 3rd Qu.: 798760                      3rd Qu.:2018-06-06   3rd Qu.:1.0000  
 Max.   :1069460                      Max.   :2019-05-01   Max.   :1.0000  
  developer          publisher          platforms          required_age    
 Length:27075       Length:27075       Length:27075       Min.   : 0.0000  
 Class :character   Class :character   Class :character   1st Qu.: 0.0000  
 Mode  :character   Mode  :character   Mode  :character   Median : 0.0000  
                                                          Mean   : 0.3549  
                                                          3rd Qu.: 0.0000  
                                                          Max.   :18.0000  
  categories           genres          steamspy_tags       achievements    
 Length:27075       Length:27075       Length:27075       Min.   :   0.00  
 Class :character   Class :character   Class :character   1st Qu.:   0.00  
 Mode  :character   Mode  :character   Mode  :character   Median :   7.00  
                                                          Mean   :  45.25  
                                                          3rd Qu.:  23.00  
                                                          Max.   :9821.00  
 positive_ratings  negative_ratings average_playtime   median_playtime   
 Min.   :      0   Min.   :     0   Min.   :     0.0   Min.   :     0.0  
 1st Qu.:      6   1st Qu.:     2   1st Qu.:     0.0   1st Qu.:     0.0  
 Median :     24   Median :     9   Median :     0.0   Median :     0.0  
 Mean   :   1001   Mean   :   211   Mean   :   149.8   Mean   :   146.1  
 3rd Qu.:    126   3rd Qu.:    42   3rd Qu.:     0.0   3rd Qu.:     0.0  
 Max.   :2644404   Max.   :487076   Max.   :190625.0   Max.   :190625.0  
    owners              price        
 Length:27075       Min.   :  0.000  
 Class :character   1st Qu.:  1.690  
 Mode  :character   Median :  3.990  
                    Mean   :  6.078  
                    3rd Qu.:  7.190  
                    Max.   :421.990  </code></pre>
</div>
</div>
</section>
<section id="création-de-données-supplémentaires" class="level2">
<h2 class="anchored" data-anchor-id="création-de-données-supplémentaires">2. Création de données supplémentaires</h2>
<p>Pour pouvoir travailler sur les avis donnés par les utilisateurs, nous avons une variable qui permet d’avoir la proportion des avis positifs des jeux.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>steam_1 <span class="ot">&lt;-</span> steam <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">overall_review =</span> (positive_ratings <span class="sc">+</span> negative_ratings),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">positive_rate =</span> (positive_ratings <span class="sc">/</span> overall_review)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="position-et-dispersion-des-avis" class="level3">
<h3 class="anchored" data-anchor-id="position-et-dispersion-des-avis">Position et dispersion des avis</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># avis positives </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>position_positive_ratings <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">v_min =</span> <span class="fu">min</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_max =</span> <span class="fu">max</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_moyen =</span> <span class="fu">mean</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_median =</span> <span class="fu">median</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q1 =</span> <span class="fu">quantile</span>(positive_ratings, <span class="at">prob =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q3 =</span> <span class="fu">quantile</span>(positive_ratings, <span class="at">prob =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span> </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"positive_ratings"</span>)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>position_positive_ratings </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_min   v_max v_moyen v_median  v_Q1  v_Q3 Variable        
  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           
1     0 2644404   1001.       24     6   126 positive_ratings</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dispersion_positive_ratings <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">v_etendue =</span> <span class="fu">max</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">min</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei =</span> <span class="fu">IQR</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei1 =</span> position_positive_ratings<span class="sc">$</span>v_Q3 <span class="sc">-</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>              position_positive_ratings<span class="sc">$</span>v_Q1, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_variance =</span> <span class="fu">var</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et =</span> <span class="fu">sd</span>(positive_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et1 =</span> <span class="fu">sqrt</span>(v_variance)) <span class="sc">%&gt;%</span> </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"positive_ratings"</span>) </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>dispersion_positive_ratings</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_etendue  v_ei v_ei1 v_variance   v_et  v_et1 Variable        
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;           
1   2644404   120   120 360571656. 18989. 18989. positive_ratings</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dispersion_positive_ratings <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  pander</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 15%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 17%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">v_etendue</th>
<th style="text-align: center;">v_ei</th>
<th style="text-align: center;">v_ei1</th>
<th style="text-align: center;">v_variance</th>
<th style="text-align: center;">v_et</th>
<th style="text-align: center;">v_et1</th>
<th style="text-align: center;">Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">2644404</td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">120</td>
<td style="text-align: center;">360571656</td>
<td style="text-align: center;">18989</td>
<td style="text-align: center;">18989</td>
<td style="text-align: center;">positive_ratings</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Les statistiques obtenues permettent de voir que la valeur maximale des avis positive est de 2644404 avec une valeur moyenne de 1000.559 et une médiane de 24.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># avis négative </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>position_negative_ratings <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">v_min =</span> <span class="fu">min</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_max =</span> <span class="fu">max</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_moyen =</span> <span class="fu">mean</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_median =</span> <span class="fu">median</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q1 =</span> <span class="fu">quantile</span>(negative_ratings, <span class="at">prob =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q3 =</span> <span class="fu">quantile</span>(negative_ratings, <span class="at">prob =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span> </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"negative_ratings"</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>position_negative_ratings </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_min  v_max v_moyen v_median  v_Q1  v_Q3 Variable        
  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           
1     0 487076    211.        9     2    42 negative_ratings</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>dispersion_negative_ratings <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">v_etendue =</span> <span class="fu">max</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">min</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei =</span> <span class="fu">IQR</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei1 =</span> position_negative_ratings<span class="sc">$</span>v_Q3 <span class="sc">-</span> </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>              position_negative_ratings<span class="sc">$</span>v_Q1, </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_variance =</span> <span class="fu">var</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et =</span> <span class="fu">sd</span>(negative_ratings, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et1 =</span> <span class="fu">sqrt</span>(v_variance)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"negative_ratings"</span>) </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>dispersion_negative_ratings</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_etendue  v_ei v_ei1 v_variance  v_et v_et1 Variable        
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           
1    487076    40    40  18360698. 4285. 4285. negative_ratings</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>dispersion_negative_ratings <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  pander</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 17%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">v_etendue</th>
<th style="text-align: center;">v_ei</th>
<th style="text-align: center;">v_ei1</th>
<th style="text-align: center;">v_variance</th>
<th style="text-align: center;">v_et</th>
<th style="text-align: center;">v_et1</th>
<th style="text-align: center;">Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">487076</td>
<td style="text-align: center;">40</td>
<td style="text-align: center;">40</td>
<td style="text-align: center;">18360698</td>
<td style="text-align: center;">4285</td>
<td style="text-align: center;">4285</td>
<td style="text-align: center;">negative_ratings</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Pour ce qui est des valeurs des avis négatives : la valeur maximale est de 487076, la valeur moyenne de 211.0271 et la médiane est de 9.</p>
</section>
<section id="position-et-dispertion-temps-de-jeu" class="level3">
<h3 class="anchored" data-anchor-id="position-et-dispertion-temps-de-jeu">Position et dispertion temps de jeu</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># temps de jeux</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>position_average_playtime <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">v_min =</span> <span class="fu">min</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_max =</span> <span class="fu">max</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_moyen =</span> <span class="fu">mean</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_median =</span> <span class="fu">median</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q1 =</span> <span class="fu">quantile</span>(average_playtime, <span class="at">prob =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q3 =</span> <span class="fu">quantile</span>(average_playtime, <span class="at">prob =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span> </span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"average_playtime"</span>)</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>position_average_playtime</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_min  v_max v_moyen v_median  v_Q1  v_Q3 Variable        
  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           
1     0 190625    150.        0     0     0 average_playtime</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dispersion_average_playtime <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">v_etendue =</span> <span class="fu">max</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">min</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei =</span> <span class="fu">IQR</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei1 =</span> position_average_playtime<span class="sc">$</span>v_Q3 <span class="sc">-</span> </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>              position_average_playtime<span class="sc">$</span>v_Q1, </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_variance =</span> <span class="fu">var</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et =</span> <span class="fu">sd</span>(average_playtime, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et1 =</span> <span class="fu">sqrt</span>(v_variance)) <span class="sc">%&gt;%</span> </span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"average_playtime"</span>) </span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>dispersion_average_playtime</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_etendue  v_ei v_ei1 v_variance  v_et v_et1 Variable        
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;           
1    190625     0     0   3338068. 1827. 1827. average_playtime</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>dispersion_average_playtime <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  pander</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 17%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">v_etendue</th>
<th style="text-align: center;">v_ei</th>
<th style="text-align: center;">v_ei1</th>
<th style="text-align: center;">v_variance</th>
<th style="text-align: center;">v_et</th>
<th style="text-align: center;">v_et1</th>
<th style="text-align: center;">Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">190625</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">3338068</td>
<td style="text-align: center;">1827</td>
<td style="text-align: center;">1827</td>
<td style="text-align: center;">average_playtime</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Pour ce qui est du temps de jeu : la valeur maximale est de 190625, la valeur moyenne de 149.8049 et la médiane est de 0.</p>
</section>
<section id="position-et-dispertion-prix-des-jeux" class="level3">
<h3 class="anchored" data-anchor-id="position-et-dispertion-prix-des-jeux">Position et dispertion prix des jeux</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># avis prix des jeux </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>position_price <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">v_min =</span> <span class="fu">min</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_max =</span> <span class="fu">max</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_moyen =</span> <span class="fu">mean</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_median =</span> <span class="fu">median</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q1 =</span> <span class="fu">quantile</span>(price, <span class="at">prob =</span> <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_Q3 =</span> <span class="fu">quantile</span>(price, <span class="at">prob =</span> <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">%&gt;%</span> </span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"price"</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>position_price</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_min v_max v_moyen v_median  v_Q1  v_Q3 Variable
  &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
1     0  422.    6.08     3.99  1.69  7.19 price   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>dispersion_price <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">summarise</span>(<span class="at">v_etendue =</span> <span class="fu">max</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">min</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei =</span> <span class="fu">IQR</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_ei1 =</span> position_price<span class="sc">$</span>v_Q3 <span class="sc">-</span> position_price<span class="sc">$</span>v_Q1, </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_variance =</span> <span class="fu">var</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et =</span> <span class="fu">sd</span>(price, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">v_et1 =</span> <span class="fu">sqrt</span>(v_variance)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Variable =</span> <span class="st">"price"</span>) </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>dispersion_price</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 7
  v_etendue  v_ei v_ei1 v_variance  v_et v_et1 Variable
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   
1      422.   5.5   5.5       62.0  7.87  7.87 price   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>dispersion_price <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  pander</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 18%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">v_etendue</th>
<th style="text-align: center;">v_ei</th>
<th style="text-align: center;">v_ei1</th>
<th style="text-align: center;">v_variance</th>
<th style="text-align: center;">v_et</th>
<th style="text-align: center;">v_et1</th>
<th style="text-align: center;">Variable</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">422</td>
<td style="text-align: center;">5.5</td>
<td style="text-align: center;">5.5</td>
<td style="text-align: center;">62.01</td>
<td style="text-align: center;">7.875</td>
<td style="text-align: center;">7.875</td>
<td style="text-align: center;">price</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Pour ce qui est des prix : la valeur maximale est de 421.99, la valeur moyenne de 6.078193 et la médiane est de 3.99.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Paramètre de position des 4 variables</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>indicateur_position <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(<span class="at">positive_ratings =</span> position_positive_ratings,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                                 position_negative_ratings, </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                                 position_average_playtime, dispersion_price)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>indicateur_position</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 13
  v_min   v_max v_moyen v_median  v_Q1  v_Q3 Variable      v_etendue  v_ei v_ei1
  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     0 2644404   1001.       24     6   126 positive_rat…       NA   NA    NA  
2     0  487076    211.        9     2    42 negative_rat…       NA   NA    NA  
3     0  190625    150.        0     0     0 average_play…       NA   NA    NA  
4    NA      NA     NA        NA    NA    NA price              422.   5.5   5.5
# ℹ 3 more variables: v_variance &lt;dbl&gt;, v_et &lt;dbl&gt;, v_et1 &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Paramètres de dispersion des 4 variables</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>indicateur_dispersion <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(dispersion_positive_ratings, </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                                   dispersion_negative_ratings, </span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                                   dispersion_average_playtime, position_price)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>indicateur_dispersion</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 13
  v_etendue  v_ei v_ei1 v_variance   v_et  v_et1 Variable    v_min v_max v_moyen
      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;
1   2644404   120   120 360571656. 18989. 18989. positive_r…    NA   NA    NA   
2    487076    40    40  18360698.  4285.  4285. negative_r…    NA   NA    NA   
3    190625     0     0   3338068.  1827.  1827. average_pl…    NA   NA    NA   
4        NA    NA    NA        NA     NA     NA  price           0  422.    6.08
# ℹ 3 more variables: v_median &lt;dbl&gt;, v_Q1 &lt;dbl&gt;, v_Q3 &lt;dbl&gt;</code></pre>
</div>
</div>
<p>Grâce à ces valeurs, nous pouvons voir que nos données sont dispersées avec des valeurs aberrantes.</p>
</section>
<section id="exploration-des-plateformes" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-plateformes">Exploration des plateformes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#extraction des données</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>plateform <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, platforms) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="st">"word"</span>, platforms)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co">#frequence des mots</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>plateform <span class="sc">%&gt;%</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  word        n
  &lt;chr&gt;   &lt;int&gt;
1 windows 27070
2 mac      8066
3 linux    5235</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Stemming</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>plateform<span class="ot">&lt;-</span>plateform <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="st">"word"</span>, <span class="fu">funs</span>(<span class="fu">wordStem</span>((.), <span class="at">language=</span><span class="st">"en"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `funs()` was deprecated in dplyr 0.8.0.
ℹ Please use a list of either functions or lambdas:

# Simple named list: list(mean = mean, median = median)

# Auto named with `tibble::lst()`: tibble::lst(mean, median)

# Using lambdas list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Document-term matrix</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>plateform_DTM<span class="ot">&lt;-</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  plateform <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(appid, word) <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cast_dtm</span>(appid, word, n)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co">#transformer le Document-term matrix en dataframe</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>plat_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(plateform_DTM)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>plat_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(plat_tidy)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plat_df, <span class="fu">aes</span>(<span class="at">x=</span>term))<span class="sc">+</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre"</span>) <span class="sc">+</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Plateforme des jeux"</span>) <span class="sc">+</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Nombre de jeux sur chaque plateforme"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Le graphique des plateformes sur lequel les jeux peuvent être joués démontre la prédominance des jeux Windows</p>
</section>
<section id="exploration-des-catégories" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-catégories">Exploration des catégories :</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">#selection des données</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>categories_corpus <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, categories)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>categories_corpus <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(categories_corpus<span class="sc">$</span>categories, </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">c</span>(<span class="st">"-"</span> <span class="ot">=</span> <span class="st">""</span>, <span class="st">" "</span> <span class="ot">=</span> <span class="st">""</span>, <span class="st">";"</span> <span class="ot">=</span> <span class="st">" "</span>))</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en DocumentTermMatrix</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>categories_DTM <span class="ot">&lt;-</span> <span class="fu">DocumentTermMatrix</span>(categories_corpus)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en matrice</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>categories_DTM_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(categories_DTM)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en dataframe</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>categorie_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(categories_DTM)</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>categorie_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(categorie_tidy)</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(categorie_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  document                  term count
1        1      localmultiplayer     1
2        1           multiplayer     1
3        1     onlinemultiplayer     1
4        1 valveanticheatenabled     1
5        2      localmultiplayer     1
6        2           multiplayer     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fréquences des mots</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>frequence_categorie <span class="ot">&lt;-</span> categorie_df <span class="sc">%&gt;%</span>          </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphique des 10 mots les plus importants</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>categorie_top_20 <span class="ot">&lt;-</span> </span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  categorie_df <span class="sc">%&gt;%</span> </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>categorie_top_20 <span class="ot">&lt;-</span> categorie_top_20[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ]    </span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>categorie_top_20  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       term     n
1              singleplayer 25678
2         steamachievements 14130
3         steamtradingcards  7918
4                steamcloud  7219
5     fullcontrollersupport  5695
6  partialcontrollersupport  4234
7               multiplayer  3974
8         steamleaderboards  3439
9         onlinemultiplayer  2487
10       shared/splitscreen  2152
11                    stats  1878
12                     coop  1721
13         localmultiplayer  1615
14 crossplatformmultiplayer  1081
15               onlinecoop  1071
16                localcoop  1059
17      includesleveleditor  1036
18            steamworkshop   897
19        captionsavailable   721
20           inapppurchases   690</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(categorie_top_20) <span class="sc">+</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> n, <span class="at">fill =</span> term)) <span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre de catégories"</span>) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Catégories"</span>) <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"nombre de catégorie de jeu"</span>)<span class="sc">+</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `&lt;scale&gt;` argument of `guides()` cannot be `FALSE`. Use "none" instead as
of ggplot2 3.3.4.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ce graphique montre la prédominance des jeux de types “single player”.</p>
</section>
<section id="exploration-des-genres" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-genres">Exploration des genres</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co">#selection des données</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>genres_corpus <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, genres)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>genres_corpus <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(genres_corpus<span class="sc">$</span>genres, <span class="st">";"</span> ,<span class="st">" "</span>)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en DocumentTermMatrix</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>genres_DTM <span class="ot">&lt;-</span> <span class="fu">DocumentTermMatrix</span>(genres_corpus)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en matrice</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>genres_DTM_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(genres_DTM)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en dataframe</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>genres_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(genres_DTM)</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>genres_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(genres_tidy)</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(genres_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  document   term count
1        1 action     1
2        2 action     1
3        3 action     1
4        4 action     1
5        5 action     1
6        6 action     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fréquences des mots</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>frequence_genres <span class="ot">&lt;-</span> genres_df <span class="sc">%&gt;%</span>          </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphique des 10 mots les plus importants</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>genres_top_20 <span class="ot">&lt;-</span> </span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  genres_df <span class="sc">%&gt;%</span> </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>genres_top_20 <span class="ot">&lt;-</span> genres_top_20[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ]    </span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>genres_top_20  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     term     n
1                  action 11237
2                   indie  7195
3               adventure  5636
4                  casual  5025
5                  access  2953
6            casual;indie  1818
7                strategy  1390
8         adventure;indie  1256
9                    free  1217
10             simulation  1123
11                    rpg   817
12         indie;strategy   776
13              indie;rpg   723
14                violent   709
15       indie;simulation   637
16                   play   523
17 adventure;casual;indie   494
18             play;indie   421
19            indie;early   392
20    adventure;indie;rpg   334</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(genres_top_20) <span class="sc">+</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> n, <span class="at">fill =</span> term)) <span class="sc">+</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre de genres"</span>) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Genres"</span>) <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"nombre de genres de jeu"</span>)<span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Le graphique ci-dessous nous permet de voir que les jeux les plus nombreux sur la plateforme sont les jeux d’action, les jeux indépendants, les jeux d’aventure, et les jeux occasionnels (casual)</p>
</section>
<section id="exploration-des-steamspy_tags" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-steamspy_tags">Exploration des steamspy_tags</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#selection des données</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>steamspy_tags_corpus <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, steamspy_tags)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>steamspy_tags_corpus <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(steamspy_tags_corpus<span class="sc">$</span>steamspy_tags,  </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">c</span>(<span class="st">" "</span> <span class="ot">=</span> <span class="st">""</span>, <span class="st">";"</span> <span class="ot">=</span> <span class="st">" "</span>))</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en DocumentTermMatrix</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>steamspy_tags_DTM <span class="ot">&lt;-</span> <span class="fu">DocumentTermMatrix</span>(steamspy_tags_corpus)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en matrice</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>steamspy_tags_DTM_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(steamspy_tags_DTM)</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en dataframe</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>steamspy_tags_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(steamspy_tags_DTM)</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>steamspy_tags_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(steamspy_tags_tidy)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(steamspy_tags_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  document        term count
1        1      action     1
2        1         fps     1
3        1 multiplayer     1
4        2      action     1
5        2         fps     1
6        2 multiplayer     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fréquences des mots</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>frequence_steamspy_tags <span class="ot">&lt;-</span> steamspy_tags_df <span class="sc">%&gt;%</span>          </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphique des 10 mots les plus importants</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>steamspy_tags_top_20 <span class="ot">&lt;-</span> </span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  steamspy_tags_df <span class="sc">%&gt;%</span> </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>steamspy_tags_top_20 <span class="ot">&lt;-</span> steamspy_tags_top_20[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ]    </span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>steamspy_tags_top_20  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            term     n
1          indie 16232
2         action 10322
3         casual  8205
4      adventure  7770
5       strategy  4173
6     simulation  3284
7    earlyaccess  2967
8            rpg  2785
9     freetoplay  1662
10        puzzle  1116
11        sports   781
12        racing   765
13    platformer   648
14        nudity   570
15 sexualcontent   557
16   visualnovel   546
17       violent   545
18         anime   538
19        horror   493
20   point&amp;click   492</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(steamspy_tags_top_20) <span class="sc">+</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> n, <span class="at">fill =</span> term)) <span class="sc">+</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre de steamspy_tags"</span>) <span class="sc">+</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Steamspy_tags"</span>) <span class="sc">+</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"nombre de tag de jeu"</span>)<span class="sc">+</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Tout comme avec le graphique des genres de jeu, le graphique ici présent nous permet de voir que les jeux indépendants, les jeux d’aventure, d’action et les jeux occasionnels sont nombreux sur la plateforme.</p>
</section>
<section id="exploration-des-développeurs" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-développeurs">Exploration des développeurs</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#selection des données</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>developer_corpus <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, developer)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>developer_corpus <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(developer_corpus<span class="sc">$</span>developer,  </span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="st">" "</span> <span class="ot">=</span> <span class="st">""</span>, <span class="st">";"</span> <span class="ot">=</span> <span class="st">" "</span>))</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en DocumentTermMatrix</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>developer_DTM <span class="ot">&lt;-</span> <span class="fu">DocumentTermMatrix</span>(developer_corpus)</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en matrice</span></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>developer_DTM_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(developer_DTM)</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en dataframe</span></span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>developer_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(developer_DTM)</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>developer_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(developer_tidy)</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(developer_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  document            term count
1        1           valve     1
2        2           valve     1
3        3           valve     1
4        4           valve     1
5        5 gearboxsoftware     1
6        6           valve     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fréquences des mots</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>frequence_developer <span class="ot">&lt;-</span> developer_df <span class="sc">%&gt;%</span>          </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphique des 20 mots les plus importants</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>developer_top_20 <span class="ot">&lt;-</span> </span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  developer_df <span class="sc">%&gt;%</span> </span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>developer_top_20 <span class="ot">&lt;-</span> developer_top_20[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ]    </span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>developer_top_20  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     term  n
1           choiceofgames 94
2  koeitecmogamesco.,ltd. 75
3          ripknotsystems 62
4  laushdmitriysergeevich 51
5       nikita"ghost_rus" 51
6             dexiongames 45
7   feralinteractive(mac) 45
8               rewindapp 44
9             hostedgames 42
10           blendergames 40
11                creobit 36
12                forkids 36
13 humongousentertainment 36
14             ensenasoft 35
15             squareenix 35
16    alawarentertainment 33
17     eipixentertainment 33
18             terolunkka 33
19            nekyaugames 32
20         warfarestudios 31</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(developer_top_20) <span class="sc">+</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> n, <span class="at">fill =</span> term)) <span class="sc">+</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre de développeurs"</span>) <span class="sc">+</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Developpeurs"</span>) <span class="sc">+</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Nombre de jeux par développeur"</span>) <span class="sc">+</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ici, nous pouvons voir que sur les 20 développeurs qui développent le plus de jeux sur Steam, choiceofgame est celui qui détient le plus de jeux développés.</p>
</section>
<section id="exploration-des-éditeurs-publisher" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-éditeurs-publisher">Exploration des éditeurs (publisher)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">#selection des données</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>publisher_corpus <span class="ot">&lt;-</span> steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, publisher)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>publisher_corpus <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(publisher_corpus<span class="sc">$</span>publisher,  </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="fu">c</span>(<span class="st">" "</span> <span class="ot">=</span> <span class="st">""</span>, <span class="st">";"</span> <span class="ot">=</span> <span class="st">" "</span>))</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en DocumentTermMatrix</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>publisher_DTM <span class="ot">&lt;-</span> <span class="fu">DocumentTermMatrix</span>(publisher_corpus)</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en matrice</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>publisher_DTM_matrix <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(publisher_DTM)</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a><span class="co"># transformation en dataframe</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>publisher_tidy <span class="ot">&lt;-</span> <span class="fu">tidy</span>(publisher_DTM)</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>publisher_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(publisher_tidy)</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(publisher_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  document  term count
1        1 valve     1
2        2 valve     1
3        3 valve     1
4        4 valve     1
5        5 valve     1
6        6 valve     1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fréquences des mots</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>frequence_publisher <span class="ot">&lt;-</span> publisher_df <span class="sc">%&gt;%</span>          </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphique des 20 mots les plus importants</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>publisher_top_20 <span class="ot">&lt;-</span> </span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>  publisher_df <span class="sc">%&gt;%</span> </span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(term, <span class="at">sort =</span> <span class="cn">TRUE</span>) </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>publisher_top_20 <span class="ot">&lt;-</span> publisher_top_20[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, ]    </span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>publisher_top_20  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     term   n
1            bigfishgames 213
2           strategyfirst 136
3               thqnordic 119
4                 ubisoft 114
5           plugindigital 113
6              squareenix 110
7        nightdivestudios 101
8         1centertainment  97
9            sekaiproject  96
10          choiceofgames  94
11     dagestantechnology  92
12                   sega  91
13                 degica  87
14                kissltd  85
15      disneyinteractive  82
16             agmplayism  77
17        devolverdigital  74
18         slitherineltd.  73
19 koeitecmogamesco.,ltd.  71
20               retroism  69</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(publisher_top_20) <span class="sc">+</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> term, <span class="at">y =</span> n, <span class="at">fill =</span> term)) <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Nombre de jeux"</span>) <span class="sc">+</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Éditeur"</span>) <span class="sc">+</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Nombre de jeux par éditeur"</span>) <span class="sc">+</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Ici, nous pouvons voir que sur les 20 éditeurs de jeux sur Steam, bigfishgames est celui qui a publié le plus de jeux.</p>
<p>Après avoir exploré la base de données, nous allons maintenant essayer de voir la corrélation entre les genres des jeux et les notes qu’ils obtiennent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">#rm(list = ls()) </span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library </span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(summarytools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="joindre-les-documents" class="level2">
<h2 class="anchored" data-anchor-id="joindre-les-documents">Joindre les documents</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"steam.csv"</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>steam_desc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"steam_description_data.csv"</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(steam_desc)[<span class="fu">names</span>(steam_desc) <span class="sc">==</span> <span class="st">"steam_appid"</span>] <span class="ot">&lt;-</span> <span class="st">"appid"</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>steam_joined <span class="ot">&lt;-</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  steam <span class="sc">%&gt;%</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(steam_desc, <span class="at">by =</span> <span class="st">"appid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exploration-des-données" class="level2">
<h2 class="anchored" data-anchor-id="exploration-des-données">Exploration des données</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(steam_joined)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     appid             name           release_date          english      
 Min.   :     10   Length:27075       Length:27075       Min.   :0.0000  
 1st Qu.: 401230   Class :character   Class :character   1st Qu.:1.0000  
 Median : 599070   Mode  :character   Mode  :character   Median :1.0000  
 Mean   : 596204                                         Mean   :0.9811  
 3rd Qu.: 798760                                         3rd Qu.:1.0000  
 Max.   :1069460                                         Max.   :1.0000  
  developer          publisher          platforms          required_age    
 Length:27075       Length:27075       Length:27075       Min.   : 0.0000  
 Class :character   Class :character   Class :character   1st Qu.: 0.0000  
 Mode  :character   Mode  :character   Mode  :character   Median : 0.0000  
                                                          Mean   : 0.3549  
                                                          3rd Qu.: 0.0000  
                                                          Max.   :18.0000  
  categories           genres          steamspy_tags       achievements    
 Length:27075       Length:27075       Length:27075       Min.   :   0.00  
 Class :character   Class :character   Class :character   1st Qu.:   0.00  
 Mode  :character   Mode  :character   Mode  :character   Median :   7.00  
                                                          Mean   :  45.25  
                                                          3rd Qu.:  23.00  
                                                          Max.   :9821.00  
 positive_ratings  negative_ratings average_playtime   median_playtime   
 Min.   :      0   Min.   :     0   Min.   :     0.0   Min.   :     0.0  
 1st Qu.:      6   1st Qu.:     2   1st Qu.:     0.0   1st Qu.:     0.0  
 Median :     24   Median :     9   Median :     0.0   Median :     0.0  
 Mean   :   1001   Mean   :   211   Mean   :   149.8   Mean   :   146.1  
 3rd Qu.:    126   3rd Qu.:    42   3rd Qu.:     0.0   3rd Qu.:     0.0  
 Max.   :2644404   Max.   :487076   Max.   :190625.0   Max.   :190625.0  
    owners              price         detailed_description about_the_game    
 Length:27075       Min.   :  0.000   Length:27075         Length:27075      
 Class :character   1st Qu.:  1.690   Class :character     Class :character  
 Mode  :character   Median :  3.990   Mode  :character     Mode  :character  
                    Mean   :  6.078                                          
                    3rd Qu.:  7.190                                          
                    Max.   :421.990                                          
 short_description 
 Length:27075      
 Class :character  
 Mode  :character  
                   
                   
                   </code></pre>
</div>
</div>
</section>
<section id="diviser-les-textes-dans-genres" class="level2">
<h2 class="anchored" data-anchor-id="diviser-les-textes-dans-genres">Diviser les textes dans genres</h2>
<p>Nous allons procéder à une séparation des textes dans genre de jeu et catégorie pour pouvoir mieux travailler ces données. En effet dans ces colones les jeux ont plusieurs catégories, genres qui leur sont attribués. Dans le cadre de cette étude, nous allons prendre uniquement les premiers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>steam_joined_slip <span class="ot">&lt;-</span> <span class="fu">separate</span>(steam_joined, <span class="at">col =</span> genres, <span class="at">into =</span> (<span class="st">"genres1"</span>), </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep=</span><span class="st">";"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Expected 1 pieces. Additional pieces discarded in 23032 rows [20, 23, 24, 26,
31, 32, 33, 42, 45, 60, 63, 71, 75, 76, 77, 78, 87, 89, 101, 107, ...].</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>steam_joined_slip1 <span class="ot">&lt;-</span><span class="fu">separate</span>(steam_joined, <span class="at">col =</span> categories, <span class="at">into =</span> (<span class="st">"categories1"</span>), </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sep=</span><span class="st">";"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Expected 1 pieces. Additional pieces discarded in 20744 rows [1, 2, 3, 4, 5, 6,
7, 8, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, ...].</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>steam_joined_slip2 <span class="ot">&lt;-</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  steam_joined_slip <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(steam_joined_slip1, <span class="at">by =</span> <span class="st">"appid"</span>)</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>steam_joined_slip3 <span class="ot">&lt;-</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  steam_joined <span class="sc">%&gt;%</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(steam_joined_slip2, <span class="at">by =</span> <span class="st">"appid"</span>)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>steam_reg <span class="ot">&lt;-</span> steam_joined_slip3 <span class="sc">%&gt;%</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(appid, genres1, platforms, categories1,</span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>         positive_ratings, negative_ratings) <span class="sc">%&gt;%</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rate =</span> <span class="fu">case_when</span>(positive_ratings<span class="sc">&gt;</span>negative_ratings<span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>                          positive_ratings<span class="sc">&lt;</span>negative_ratings<span class="sc">~</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>                         ))</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>steam_reg_filtrer <span class="ot">&lt;-</span> steam_reg <span class="sc">%&gt;%</span></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genres1 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Action"</span>,<span class="st">"Adventure"</span>,<span class="st">"Casual"</span>,<span class="st">"Early Access"</span>,<span class="st">"Education"</span>, </span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Free to Play"</span>,<span class="st">"Gore"</span>,<span class="st">"Indie"</span>,<span class="st">"Massively Multiplayer"</span>,</span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Nudity"</span>,<span class="st">"Racing"</span>,<span class="st">"RPG"</span>,<span class="st">"Sexual Content"</span>,<span class="st">"Simulation"</span>,</span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Sports"</span>,<span class="st">"Strategy"</span>,<span class="st">"Violent"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(rate <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1"</span>,<span class="st">"-1"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="graphique" class="level2">
<h2 class="anchored" data-anchor-id="graphique">Graphique</h2>
<p>À présent nous allons générer des figures pour voir la relation entre les variables genre, plateforme et catégorie avec les avis des joueurs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>steam_reg_filtrer,<span class="fu">aes</span>(<span class="at">x=</span>genres1,<span class="at">fill=</span>rate)) <span class="sc">+</span> </span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"1"</span>),</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"-1"</span>),</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>),<span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>)))<span class="sc">+</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Genre"</span>) <span class="sc">+</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Nombre"</span>) <span class="sc">+</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Représentation des avis selon le genre du jeu"</span>) <span class="sc">+</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(count)` instead.</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/plot-data-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Représentation des avis selon le genre du jeu</figcaption>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>steam_reg_filtrer,<span class="fu">aes</span>(<span class="at">x=</span>categories1,<span class="at">fill=</span>rate)) <span class="sc">+</span> </span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"1"</span>),</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"-1"</span>),</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>),<span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>)))<span class="sc">+</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Catégorie"</span>) <span class="sc">+</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Nombre"</span>) <span class="sc">+</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Représentation des avis selon la catégorie du jeu"</span>) <span class="sc">+</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/plot-data-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Représentation des avis selon la catégorie du jeu</figcaption>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>steam_reg_filtrer,<span class="fu">aes</span>(<span class="at">x=</span>platforms,<span class="at">fill=</span>rate)) <span class="sc">+</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"1"</span>),</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(steam_reg_filtrer,rate<span class="sc">==</span><span class="st">"-1"</span>),</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>),<span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>)))<span class="sc">+</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Platefrome.s"</span>) <span class="sc">+</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Nombre"</span>) <span class="sc">+</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Représentation des avis selon le/les plateforme du jeu"</span>) <span class="sc">+</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/plot-data-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Représentation des avis selon le/les plateforme du jeu</figcaption>
</figure>
</div>
</div>
</div>
<p>Ces graphiques nous permettent de voir les catégories qui reçoivent le mois de vote. Parmi les genres, nous pouvons voir que les jeux d’action sont ceux qui reçoivent le plus de votes, de plus les votes (négatif et positif) sont à peu près de même nombre. Contrairement aux jeux d’aventure qui reçoit beaucoup plus de votes positifs que négatifs. Pour ce qui est des catégories nous voyons ici que les jeux single player dominent le marché, toutefois le nombre de votes est à peu près les mêmes. Et enfin, nous pouvons faire également les mêmes constatations avec les plateformes. C’est à dire, les jeux Windows dominent les marchés. Toutefois les jeux qui peuvent tourner en même temps sur Windows, mac et Linux reçoivent plus de votes positifs que négative.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>categorie_filtered <span class="ot">&lt;-</span> steam_reg_filtrer <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>categories1 <span class="sc">==</span> <span class="st">"Single-player"</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>categorie_filtered,<span class="fu">aes</span>(<span class="at">x=</span>categories1,<span class="at">fill=</span>rate)) <span class="sc">+</span> </span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(categorie_filtered,rate<span class="sc">==</span><span class="st">"1"</span>),</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">data=</span><span class="fu">subset</span>(categorie_filtered,rate<span class="sc">==</span><span class="st">"-1"</span>),</span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>           <span class="fu">aes</span>(<span class="at">y=</span>(..count..)<span class="sc">*</span>(<span class="sc">-</span><span class="dv">1</span>)<span class="sc">/</span><span class="fu">sum</span>(..count..))) <span class="sc">+</span> </span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>),<span class="at">labels=</span><span class="fu">abs</span>(<span class="fu">seq</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.05</span>)))<span class="sc">+</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Catégorie"</span>) <span class="sc">+</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Nombre"</span>) <span class="sc">+</span></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Représentation des avis selon la catégorie du jeu"</span>) <span class="sc">+</span></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/filtered-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Représentation des avis selon la catégorie du jeu (sans Single-player)</figcaption>
</figure>
</div>
</div>
</div>
<p>Nous avons dans le cas présent enlevé la variable “single player” de la colonne catégorie afin de voir les autres variables. Ainsi nous pouvons voir qu’après les single player, ce sont les multiplayer et les online milti player qui sont le plus nombreux sur steam. Nous pouvons voir par la suite que les jeux de type co-op reçoivent beaucoup d’avis négatifs contrairement aux jeux multijoueurs locaux qui eux reçoivent beaucoup plus d’avis positifs.</p>
</section>
<section id="regression" class="level2">
<h2 class="anchored" data-anchor-id="regression">Regression</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>reg_rate_genres <span class="ot">&lt;-</span> <span class="fu">lm</span>(rate <span class="sc">~</span> genres1, steam_reg_filtrer)</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_rate_genres)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rate ~ genres1, data = steam_reg_filtrer)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.7711  0.2465  0.3264  0.3264  0.6667 

Coefficients:
                              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)                   0.673639   0.007048  95.582  &lt; 2e-16 ***
genres1Adventure              0.079899   0.012475   6.405 1.53e-10 ***
genres1Casual                -0.023423   0.013373  -1.752 0.079858 .  
genres1Early Access          -0.340305   0.244842  -1.390 0.164573    
genres1Education              0.018669   0.203759   0.092 0.926998    
genres1Free to Play           0.017461   0.038222   0.457 0.647795    
genres1Gore                  -0.141171   0.083969  -1.681 0.092730 .  
genres1Indie                  0.010075   0.016178   0.623 0.533460    
genres1Massively Multiplayer  0.076361   0.183691   0.416 0.677629    
genres1Nudity                -0.132354   0.070678  -1.873 0.061130 .  
genres1Racing                -0.001844   0.053049  -0.035 0.972275    
genres1RPG                    0.097506   0.037292   2.615 0.008937 ** 
genres1Sexual Content         0.055175   0.048311   1.142 0.253429    
genres1Simulation            -0.211726   0.030387  -6.968 3.30e-12 ***
genres1Sports                -0.273639   0.082391  -3.321 0.000897 ***
genres1Strategy               0.012786   0.032870   0.389 0.697291    
genres1Violent               -0.243788   0.029228  -8.341  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.7342 on 25969 degrees of freedom
Multiple R-squared:  0.008337,  Adjusted R-squared:  0.007726 
F-statistic: 13.65 on 16 and 25969 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>reg_rate_categorie <span class="ot">&lt;-</span> <span class="fu">lm</span>(rate <span class="sc">~</span> categories1, steam_reg_filtrer)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_rate_categorie)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rate ~ categories1, data = steam_reg_filtrer)

Residuals:
   Min     1Q Median     3Q    Max 
-1.687  0.321  0.321  0.321  1.000 

Coefficients:
                                        Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)                            1.000e+00  7.369e-01   1.357    0.175  
categories1Co-op                      -7.500e-01  7.816e-01  -0.960    0.337  
categories1Cross-Platform Multiplayer  1.192e-11  9.025e-01   0.000    1.000  
categories1Full controller support     1.223e-11  8.239e-01   0.000    1.000  
categories1In-App Purchases            1.206e-11  1.042e+00   0.000    1.000  
categories1Local Co-op                -4.000e-01  8.073e-01  -0.496    0.620  
categories1Local Multi-Player         -3.133e-01  7.413e-01  -0.423    0.673  
categories1MMO                        -4.545e-01  7.452e-01  -0.610    0.542  
categories1Multi-player               -3.730e-01  7.374e-01  -0.506    0.613  
categories1Online Co-op               -5.000e-01  8.239e-01  -0.607    0.544  
categories1Online Multi-Player        -4.275e-01  7.383e-01  -0.579    0.563  
categories1Partial Controller Support  1.206e-11  7.960e-01   0.000    1.000  
categories1Shared/Split Screen        -4.615e-01  7.647e-01  -0.604    0.546  
categories1Single-player              -3.210e-01  7.369e-01  -0.436    0.663  
categories1Steam Achievements         -6.250e-01  7.596e-01  -0.823    0.411  
categories1Steam Leaderboards          1.209e-11  1.042e+00   0.000    1.000  
categories1Steam Trading Cards        -1.000e+00  8.239e-01  -1.214    0.225  
categories1Steam Workshop             -2.000e+00  1.042e+00  -1.919    0.055 .
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.7369 on 25968 degrees of freedom
Multiple R-squared:  0.001071,  Adjusted R-squared:  0.0004171 
F-statistic: 1.638 on 17 and 25968 DF,  p-value: 0.0469</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>reg_rate_platform <span class="ot">&lt;-</span> <span class="fu">lm</span>(rate <span class="sc">~</span> platforms, steam_reg_filtrer)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg_rate_platform)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rate ~ platforms, data = steam_reg_filtrer)

Residuals:
    Min      1Q  Median      3Q     Max 
-1.8255  0.1745  0.3781  0.3781  0.3781 

Coefficients:
                             Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)                 1.000e+00  7.326e-01   1.365    0.172
platformsmac                5.001e-12  8.460e-01   0.000    1.000
platformsmac;linux          5.481e-12  1.036e+00   0.000    1.000
platformswindows           -3.781e-01  7.327e-01  -0.516    0.606
platformswindows;linux     -2.010e-01  7.333e-01  -0.274    0.784
platformswindows;mac       -2.672e-01  7.327e-01  -0.365    0.715
platformswindows;mac;linux -1.745e-01  7.327e-01  -0.238    0.812

Residual standard error: 0.7326 on 25979 degrees of freedom
Multiple R-squared:  0.01224,   Adjusted R-squared:  0.01201 
F-statistic: 53.65 on 6 and 25979 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Please cite as: </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code> R package version 5.2.3. https://CRAN.R-project.org/package=stargazer </code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(reg_rate_genres, reg_rate_categorie, reg_rate_platform, <span class="at">title =</span> <span class="st">"Regression des avis"</span>, <span class="at">align =</span> <span class="cn">TRUE</span>, <span class="at">type =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Regression des avis
===================================================================================================================
                                                                   Dependent variable:                             
                                      -----------------------------------------------------------------------------
                                                                          rate                                     
                                                 (1)                       (2)                       (3)           
-------------------------------------------------------------------------------------------------------------------
genres1Adventure                               0.080***                                                            
                                               (0.012)                                                             
                                                                                                                   
genres1Casual                                  -0.023*                                                             
                                               (0.013)                                                             
                                                                                                                   
genres1Early Access                             -0.340                                                             
                                               (0.245)                                                             
                                                                                                                   
genres1Education                                0.019                                                              
                                               (0.204)                                                             
                                                                                                                   
genres1Free to Play                             0.017                                                              
                                               (0.038)                                                             
                                                                                                                   
genres1Gore                                    -0.141*                                                             
                                               (0.084)                                                             
                                                                                                                   
genres1Indie                                    0.010                                                              
                                               (0.016)                                                             
                                                                                                                   
genres1Massively Multiplayer                    0.076                                                              
                                               (0.184)                                                             
                                                                                                                   
genres1Nudity                                  -0.132*                                                             
                                               (0.071)                                                             
                                                                                                                   
genres1Racing                                   -0.002                                                             
                                               (0.053)                                                             
                                                                                                                   
genres1RPG                                     0.098***                                                            
                                               (0.037)                                                             
                                                                                                                   
genres1Sexual Content                           0.055                                                              
                                               (0.048)                                                             
                                                                                                                   
genres1Simulation                             -0.212***                                                            
                                               (0.030)                                                             
                                                                                                                   
genres1Sports                                 -0.274***                                                            
                                               (0.082)                                                             
                                                                                                                   
genres1Strategy                                 0.013                                                              
                                               (0.033)                                                             
                                                                                                                   
genres1Violent                                -0.244***                                                            
                                               (0.029)                                                             
                                                                                                                   
categories1Co-op                                                          -0.750                                   
                                                                         (0.782)                                   
                                                                                                                   
categories1Cross-Platform Multiplayer                                     0.000                                    
                                                                         (0.903)                                   
                                                                                                                   
categories1Full controller support                                        0.000                                    
                                                                         (0.824)                                   
                                                                                                                   
categories1In-App Purchases                                               0.000                                    
                                                                         (1.042)                                   
                                                                                                                   
categories1Local Co-op                                                    -0.400                                   
                                                                         (0.807)                                   
                                                                                                                   
categories1Local Multi-Player                                             -0.313                                   
                                                                         (0.741)                                   
                                                                                                                   
categories1MMO                                                            -0.455                                   
                                                                         (0.745)                                   
                                                                                                                   
categories1Multi-player                                                   -0.373                                   
                                                                         (0.737)                                   
                                                                                                                   
categories1Online Co-op                                                   -0.500                                   
                                                                         (0.824)                                   
                                                                                                                   
categories1Online Multi-Player                                            -0.427                                   
                                                                         (0.738)                                   
                                                                                                                   
categories1Partial Controller Support                                     0.000                                    
                                                                         (0.796)                                   
                                                                                                                   
categories1Shared/Split Screen                                            -0.462                                   
                                                                         (0.765)                                   
                                                                                                                   
categories1Single-player                                                  -0.321                                   
                                                                         (0.737)                                   
                                                                                                                   
categories1Steam Achievements                                             -0.625                                   
                                                                         (0.760)                                   
                                                                                                                   
categories1Steam Leaderboards                                             0.000                                    
                                                                         (1.042)                                   
                                                                                                                   
categories1Steam Trading Cards                                            -1.000                                   
                                                                         (0.824)                                   
                                                                                                                   
categories1Steam Workshop                                                -2.000*                                   
                                                                         (1.042)                                   
                                                                                                                   
platformsmac                                                                                        0.000          
                                                                                                   (0.846)         
                                                                                                                   
platformsmac;linux                                                                                  0.000          
                                                                                                   (1.036)         
                                                                                                                   
platformswindows                                                                                   -0.378          
                                                                                                   (0.733)         
                                                                                                                   
platformswindows;linux                                                                             -0.201          
                                                                                                   (0.733)         
                                                                                                                   
platformswindows;mac                                                                               -0.267          
                                                                                                   (0.733)         
                                                                                                                   
platformswindows;mac;linux                                                                         -0.175          
                                                                                                   (0.733)         
                                                                                                                   
Constant                                       0.674***                   1.000                     1.000          
                                               (0.007)                   (0.737)                   (0.733)         
                                                                                                                   
-------------------------------------------------------------------------------------------------------------------
Observations                                    25,986                    25,986                   25,986          
R2                                              0.008                     0.001                     0.012          
Adjusted R2                                     0.008                     0.0004                    0.012          
Residual Std. Error                       0.734 (df = 25969)        0.737 (df = 25968)       0.733 (df = 25979)    
F Statistic                           13.646*** (df = 16; 25969) 1.638** (df = 17; 25968) 53.651*** (df = 6; 25979)
===================================================================================================================
Note:                                                                                   *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
</div>
</div>
<p>Maintenant que nous avons fini d’analyser les relations entre les genres du jeu et les avis, ainsi que les sentiments véhiculent dans les textes du jeu, nous allons tenter de créer un modèle qui va prédire les notes selon le genre du jeu.</p>
</section>
<section id="explore-data" class="level2">
<h2 class="anchored" data-anchor-id="explore-data">Explore data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>steam <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"steam.csv"</span>)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>steam_desc <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"steam_description_data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>steam_1 <span class="ot">&lt;-</span> steam <span class="sc">%&gt;%</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">overall_review =</span> (positive_ratings <span class="sc">+</span> negative_ratings),</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">positive_rate =</span> (positive_ratings <span class="sc">/</span> overall_review)) <span class="sc">%&gt;%</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(platforms, <span class="fu">c</span>(<span class="st">"plat1"</span>,<span class="st">"plat2"</span>,<span class="st">"plat3"</span>), <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(categories,  <span class="fu">c</span>(<span class="st">"cat1"</span>, <span class="st">"cat2"</span>, <span class="st">"cat3"</span>), <span class="at">sep =</span> <span class="st">";"</span>,  <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(steamspy_tags, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"tag1"</span>, <span class="st">"tag2"</span>, <span class="st">"tag3"</span>), <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">extra =</span> <span class="st">"drop"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(developer, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"dev1"</span>, <span class="st">"dev2"</span>, <span class="st">"dev3"</span>), <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">extra =</span> <span class="st">"drop"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(publisher, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"pub1"</span>, <span class="st">"pub2"</span>, <span class="st">"pub3"</span>), <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">extra =</span> <span class="st">"drop"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>)<span class="sc">%&gt;%</span></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(genres, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"genre1"</span>, <span class="st">"genre2"</span>, <span class="st">"genre3"</span>), <span class="at">sep =</span> <span class="st">";"</span>, <span class="at">extra =</span> <span class="st">"drop"</span>, <span class="at">fill =</span> <span class="st">"right"</span>, <span class="at">remove =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Expected 3 pieces. Additional pieces discarded in 10452 rows [1, 2, 4, 7, 10,
11, 13, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 43, 44, ...].</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(steam_desc)[<span class="fu">names</span>(steam_desc) <span class="sc">==</span> <span class="st">"steam_appid"</span>] <span class="ot">&lt;-</span> <span class="st">"appid"</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>steam_joined <span class="ot">&lt;-</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  steam_1 <span class="sc">%&gt;%</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(steam_desc, <span class="at">by =</span> <span class="st">"appid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>steam_joined <span class="ot">&lt;-</span> steam_joined <span class="sc">%&gt;%</span> </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price_class =</span> <span class="fu">case_when</span>(price <span class="sc">&gt;=</span> <span class="dv">0</span>  <span class="sc">&amp;</span> price <span class="sc">&lt;=</span> <span class="fl">24.99</span> <span class="sc">~</span>  <span class="st">"0-24"</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>                                 price <span class="sc">&gt;=</span> <span class="dv">25</span>  <span class="sc">&amp;</span> price <span class="sc">&lt;=</span> <span class="fl">49.99</span> <span class="sc">~</span>  <span class="st">"25-49"</span>,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>                                 price <span class="sc">&gt;=</span> <span class="dv">50</span>  <span class="sc">&amp;</span> price <span class="sc">&lt;=</span> <span class="fl">74.99</span> <span class="sc">~</span>  <span class="st">"50-74"</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>                                 price <span class="sc">&gt;=</span> <span class="dv">75</span>  <span class="sc">&amp;</span> price <span class="sc">&lt;=</span> <span class="fl">99.99</span> <span class="sc">~</span>  <span class="st">"75-99"</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>                                 price <span class="sc">&gt;</span> <span class="dv">100</span>  <span class="sc">~</span>  <span class="st">"100 et plus"</span>))</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="co">#freq(steam_joined$price_class)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>steam_joined <span class="sc">%&gt;%</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(positive_rate, price_class, <span class="at">fill =</span> positive_rate)) <span class="sc">+</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/plot-price-class-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Relation between positive rate and price class</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="mise-en-place-du-xgboost-model" class="level2">
<h2 class="anchored" data-anchor-id="mise-en-place-du-xgboost-model">Mise en place du xgboost model</h2>
<p>Nous allons commencer notre modèle en prenant en compte les valeurs minimum et maximum des positives_ratings et des genres de jeu.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching packages ────────────────────────────────────── tidymodels 1.2.0 ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ broom        1.0.6     ✔ rsample      1.2.1
✔ dials        1.3.0     ✔ tune         1.2.1
✔ infer        1.0.7     ✔ workflows    1.1.4
✔ modeldata    1.4.0     ✔ workflowsets 1.1.0
✔ parsnip      1.2.1     ✔ yardstick    1.3.1
✔ recipes      1.1.0     </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──
✖ NLP::annotate()      masks ggplot2::annotate()
✖ scales::discard()    masks purrr::discard()
✖ dplyr::filter()      masks stats::filter()
✖ recipes::fixed()     masks stringr::fixed()
✖ dplyr::lag()         masks stats::lag()
✖ yardstick::spec()    masks readr::spec()
✖ recipes::step()      masks stats::step()
✖ summarytools::view() masks tibble::view()
• Learn how to get started at https://www.tidymodels.org/start/</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>steamsplit <span class="ot">&lt;-</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  steam_joined <span class="sc">%&gt;%</span></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, positive_rate, <span class="fu">matches</span>(<span class="st">"min|max"</span>), genres) <span class="sc">%&gt;%</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">%&gt;%</span></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">initial_split</span>(<span class="at">strata =</span> positive_rate)</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>steam_train <span class="ot">&lt;-</span> <span class="fu">training</span>(steamsplit)</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>steam_test <span class="ot">&lt;-</span> <span class="fu">testing</span>(steamsplit)</span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">234</span>)</span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>steam_folds <span class="ot">&lt;-</span> <span class="fu">vfold_cv</span>(steam_train, <span class="at">strata =</span> positive_rate)</span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>steam_folds</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#  10-fold cross-validation using stratification 
# A tibble: 10 × 2
   splits               id    
   &lt;list&gt;               &lt;chr&gt; 
 1 &lt;split [18273/2032]&gt; Fold01
 2 &lt;split [18273/2032]&gt; Fold02
 3 &lt;split [18273/2032]&gt; Fold03
 4 &lt;split [18273/2032]&gt; Fold04
 5 &lt;split [18273/2032]&gt; Fold05
 6 &lt;split [18274/2031]&gt; Fold06
 7 &lt;split [18276/2029]&gt; Fold07
 8 &lt;split [18276/2029]&gt; Fold08
 9 &lt;split [18277/2028]&gt; Fold09
10 &lt;split [18277/2028]&gt; Fold10</code></pre>
</div>
</div>
<p>Ensuite, nettoyons les variables genres, afin d’ensuite les tokeniser</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textrecipes)</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>split_category <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">%&gt;%</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_split</span>(<span class="st">", "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(str_remove_all, <span class="st">"[:punct:]"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(str_squish) <span class="sc">%&gt;%</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(str_to_lower) <span class="sc">%&gt;%</span></span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map</span>(str_replace_all, <span class="st">" "</span>, <span class="st">"_"</span>)</span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb108-11"><a href="#cb108-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-12"><a href="#cb108-12" aria-hidden="true" tabindex="-1"></a>steam_rec <span class="ot">&lt;-</span></span>
<span id="cb108-13"><a href="#cb108-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(positive_rate <span class="sc">~</span> ., <span class="at">data =</span> steam_train) <span class="sc">%&gt;%</span></span>
<span id="cb108-14"><a href="#cb108-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(name, <span class="at">new_role =</span> <span class="st">"id"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-15"><a href="#cb108-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenize</span>(genres, <span class="at">custom_token =</span> split_category) <span class="sc">%&gt;%</span></span>
<span id="cb108-16"><a href="#cb108-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tokenfilter</span>(genres, <span class="at">max_tokens =</span> <span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb108-17"><a href="#cb108-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_tf</span>(genres)</span>
<span id="cb108-18"><a href="#cb108-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-19"><a href="#cb108-19" aria-hidden="true" tabindex="-1"></a><span class="co"># voir ça fonctionne</span></span>
<span id="cb108-20"><a href="#cb108-20" aria-hidden="true" tabindex="-1"></a>steam_prep <span class="ot">&lt;-</span> <span class="fu">prep</span>(steam_rec)</span>
<span id="cb108-21"><a href="#cb108-21" aria-hidden="true" tabindex="-1"></a><span class="fu">bake</span>(steam_prep, <span class="at">new_data =</span> <span class="cn">NULL</span>) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [20,305 × 32] (S3: tbl_df/tbl/data.frame)
 $ name                                   : Factor w/ 20282 levels " Fieldrunners 2",..: 8637 7394 6914 14536 4611 19644 3496 2281 2282 6607 ...
 $ positive_rate                          : num [1:20305] 0.573 0.531 0.242 0.443 0.582 ...
 $ tf_genres_action                       : int [1:20305] 0 0 0 0 1 0 1 0 0 0 ...
 $ tf_genres_actionadventure              : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionadventurecasualindie   : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionadventureindie         : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionadventureindierpg      : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actioncasualindie            : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionindie                  : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionindieearly_access      : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionindierpg               : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_actionindiestrategy          : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_adventure                    : int [1:20305] 0 0 0 0 0 0 0 1 1 0 ...
 $ tf_genres_adventurecasual              : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_adventurecasualindie         : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_adventurecasualindierpg      : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_adventureindie               : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_adventureindierpg            : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_casual                       : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_casualindie                  : int [1:20305] 0 1 0 0 0 0 0 0 0 0 ...
 $ tf_genres_casualindiesimulation        : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_casualindiesimulationstrategy: int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_casualindiestrategy          : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_indie                        : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_indierpg                     : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_indiesimulation              : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_indiesimulationstrategy      : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_indiestrategy                : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_rpg                          : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_simulation                   : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_simulationstrategy           : int [1:20305] 0 0 0 0 0 0 0 0 0 0 ...
 $ tf_genres_strategy                     : int [1:20305] 1 0 1 1 0 1 0 0 0 0 ...</code></pre>
</div>
</div>
</section>
<section id="création-du-xgboost" class="level2">
<h2 class="anchored" data-anchor-id="création-du-xgboost">Création du xgboost</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>xgb_spec <span class="ot">&lt;-</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">boost_tree</span>(</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">trees =</span> <span class="fu">tune</span>(),</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mtry =</span> <span class="fu">tune</span>(),</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_n =</span> <span class="fu">tune</span>(),</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">learn_rate =</span> <span class="fl">0.01</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb110-8"><a href="#cb110-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"xgboost"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb110-9"><a href="#cb110-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"regression"</span>)</span>
<span id="cb110-10"><a href="#cb110-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-11"><a href="#cb110-11" aria-hidden="true" tabindex="-1"></a>xgb_wf <span class="ot">&lt;-</span> <span class="fu">workflow</span>(steam_rec, xgb_spec)</span>
<span id="cb110-12"><a href="#cb110-12" aria-hidden="true" tabindex="-1"></a>xgb_wf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>══ Workflow ════════════════════════════════════════════════════════════════════
Preprocessor: Recipe
Model: boost_tree()

── Preprocessor ────────────────────────────────────────────────────────────────
3 Recipe Steps

• step_tokenize()
• step_tokenfilter()
• step_tf()

── Model ───────────────────────────────────────────────────────────────────────
Boosted Tree Model Specification (regression)

Main Arguments:
  mtry = tune()
  trees = tune()
  min_n = tune()
  learn_rate = 0.01

Computational engine: xgboost </code></pre>
</div>
</div>
<p>Usage de tune_race_anova() pour éliminer les combinaisons qui ne fonctionnent pas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(finetune)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>doParallel<span class="sc">::</span><span class="fu">registerDoParallel</span>()</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">234</span>)</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>xgb_steam_rs <span class="ot">&lt;-</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tune_race_anova</span>(</span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>    xgb_wf,</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>    steam_folds,</span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> <span class="dv">20</span>,</span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">control_race</span>(<span class="at">verbose_elim =</span> <span class="cn">TRUE</span>)</span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Evaluating against the initial 3 burn-in resamples.
i Creating pre-processing data to finalize unknown parameter: mtry

ℹ Racing will minimize the rmse metric.
ℹ Resamples are analyzed in a random order.
ℹ Fold10: 6 eliminated; 14 candidates remain.

ℹ Fold06: 8 eliminated; 6 candidates remain.

ℹ Fold08: 3 eliminated; 3 candidates remain.

ℹ Fold01: 1 eliminated; 2 candidates remain.

ℹ Fold04: 0 eliminated; 2 candidates remain.

ℹ Fold02: 0 eliminated; 2 candidates remain.

ℹ Fold09: 0 eliminated; 2 candidates remain.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>xgb_steam_rs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Tuning results
# 10-fold cross-validation using stratification 
# A tibble: 10 × 5
   splits               id     .order .metrics          .notes          
   &lt;list&gt;               &lt;chr&gt;   &lt;int&gt; &lt;list&gt;            &lt;list&gt;          
 1 &lt;split [18273/2032]&gt; Fold03      1 &lt;tibble [40 × 7]&gt; &lt;tibble [0 × 3]&gt;
 2 &lt;split [18273/2032]&gt; Fold05      2 &lt;tibble [40 × 7]&gt; &lt;tibble [0 × 3]&gt;
 3 &lt;split [18277/2028]&gt; Fold10      3 &lt;tibble [40 × 7]&gt; &lt;tibble [0 × 3]&gt;
 4 &lt;split [18274/2031]&gt; Fold06      4 &lt;tibble [28 × 7]&gt; &lt;tibble [0 × 3]&gt;
 5 &lt;split [18276/2029]&gt; Fold08      5 &lt;tibble [12 × 7]&gt; &lt;tibble [0 × 3]&gt;
 6 &lt;split [18273/2032]&gt; Fold01      6 &lt;tibble [6 × 7]&gt;  &lt;tibble [0 × 3]&gt;
 7 &lt;split [18273/2032]&gt; Fold04      7 &lt;tibble [4 × 7]&gt;  &lt;tibble [0 × 3]&gt;
 8 &lt;split [18273/2032]&gt; Fold02      8 &lt;tibble [4 × 7]&gt;  &lt;tibble [0 × 3]&gt;
 9 &lt;split [18277/2028]&gt; Fold09      9 &lt;tibble [4 × 7]&gt;  &lt;tibble [0 × 3]&gt;
10 &lt;split [18276/2029]&gt; Fold07     10 &lt;tibble [4 × 7]&gt;  &lt;tibble [0 × 3]&gt;</code></pre>
</div>
</div>
<p>Visualisation du model</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_race</span>(xgb_steam_rs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/plot-race-results-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Race results visualization</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">show_best</span>(xgb_steam_rs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in show_best(xgb_steam_rs): No value of `metric` was given; "rmse" will
be used.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 9
   mtry trees min_n .metric .estimator  mean     n std_err .config              
  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt; &lt;chr&gt;                
1    21  1941    22 rmse    standard   0.230    10 0.00165 Preprocessor1_Model14
2    27  1892    37 rmse    standard   0.230    10 0.00165 Preprocessor1_Model19</code></pre>
</div>
</div>
<p>Utilisation de last_fit() pour entrainer et évaluer le model final</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>xgb_last <span class="ot">&lt;-</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  xgb_wf <span class="sc">%&gt;%</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">finalize_workflow</span>(<span class="fu">select_best</span>(xgb_steam_rs, <span class="at">metric =</span> <span class="st">"rmse"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">last_fit</span>(steamsplit)</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>xgb_last</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># Resampling results
# Manual resampling 
# A tibble: 1 × 6
  splits               id              .metrics .notes   .predictions .workflow 
  &lt;list&gt;               &lt;chr&gt;           &lt;list&gt;   &lt;list&gt;   &lt;list&gt;       &lt;list&gt;    
1 &lt;split [20305/6770]&gt; train/test spl… &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;     &lt;workflow&gt;</code></pre>
</div>
</div>
</section>
<section id="visualisation-du-model-pour-linterpréter" class="level2">
<h2 class="anchored" data-anchor-id="visualisation-du-model-pour-linterpréter">Visualisation du model pour l’interpréter</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'vip'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:utils':

    vi</code></pre>
</div>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>xgb_fit <span class="ot">&lt;-</span> <span class="fu">extract_fit_parsnip</span>(xgb_last)</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">vip</span>(xgb_fit, <span class="at">geom =</span> <span class="st">"point"</span>, <span class="at">num_features =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/variable-importance-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>Variable importance plot</figcaption>
</figure>
</div>
</div>
</div>
<p>Les jeux d’action, d’aventure et de simulation sont les variables les plus importants du modèle</p>
<p>Utilisation du SHAPforxgboost pour interpréter le modèle</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SHAPforxgboost)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>steam_shap <span class="ot">&lt;-</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">shap.prep</span>(</span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">xgb_model =</span> <span class="fu">extract_fit_engine</span>(xgb_fit),</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">X_train =</span> <span class="fu">bake</span>(steam_prep,</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">has_role</span>(<span class="st">"predictor"</span>),</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">new_data =</span> <span class="cn">NULL</span>,</span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">composition =</span> <span class="st">"matrix"</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Visualisation du SHAPforxgboost</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shap.plot.summary</span>(steam_shap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Explo_steam_files/figure-html/shap-summary-plot-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>SHAP summary plot</figcaption>
</figure>
</div>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>